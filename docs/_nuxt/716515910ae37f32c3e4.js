(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{825:function(t,e,n){var content=n(838);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(71).default)("8fcd56c8",content,!0,{sourceMap:!1})},837:function(t,e,n){"use strict";var o=n(825);n.n(o).a},838:function(t,e,n){(t.exports=n(70)(!1)).push([t.i,".el-date-editor,.el-input-number,.el-select{width:100%!important}",""])},848:function(t,e,n){"use strict";n.r(e);n(241);var o={layout:"app",data:function(){return{users:[],selectedUsers:[],unidad:"Horas",task:{nombre:"",task_id:"",task_duration:"",open_date:""}}},methods:{handleSelectionChange:function(t){this.selectedUsers=t},handleSelect:function(t){this.task.task_id=t.task_id},send:function(){var t=this;this.selectedUsers.forEach((function(e){t.asignTask(e.user_id)}))},asignTask:function(t){var e={user_id:t,task_id:this.task.task_id,task_duration:this.task.task_duration,open_date:new Date(this.task.open_date).toISOString().slice(0,19).replace("T"," ")},data=new FormData;data.append("json",JSON.stringify(e)),fetch("https://smarcities.000webhostapp.com/Proyecto/add_usertask.php",{method:"POST",body:data}).then((function(t){return t.text()})).then((function(t){t.res})).catch((function(t){console.log(t)}))},searchTasks:function(t,e){var n={task_name:t},data=new FormData;data.append("json",JSON.stringify(n)),fetch("https://smarcities.000webhostapp.com/Proyecto/list_tasks.php",{method:"POST",body:data}).then((function(t){return t.json()})).then((function(t){var n=t.result.map((function(t){return t.value=t.task_name,t}));e(n),console.log(t)})).catch((function(t){console.log(t)}))}},created:function(){var t=this;fetch("https://smarcities.000webhostapp.com/Proyecto/list_users.php",{method:"POST"}).then((function(t){return t.json()})).then((function(e){t.users=e.result})).catch((function(t){console.log(t)}))}},l=(n(837),n(32)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.users},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"user_name",label:"Nombre"}})],1)]],2),n("el-col",{attrs:{span:12}},[n("el-form",{staticClass:"header-form",attrs:{model:t.task,"label-position":"top"}},[n("el-form-item",{attrs:{label:"Tarea"}},[n("el-autocomplete",{attrs:{"fetch-suggestions":t.searchTasks,placeholder:"Please Input"},on:{select:t.handleSelect},model:{value:t.task.nombre,callback:function(e){t.$set(t.task,"nombre",e)},expression:"task.nombre"}})],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"Duraci√≥n"}},[n("el-input-number",{attrs:{min:0,max:100},model:{value:t.task.task_duration,callback:function(e){t.$set(t.task,"task_duration",e)},expression:"task.task_duration"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"Unidad"}},[n("el-select",{model:{value:t.unidad,callback:function(e){t.unidad=e},expression:"unidad"}},[n("el-option",{attrs:{value:"Hora(s)"}}),n("el-option",{attrs:{value:"Dia(s)"}}),n("el-option",{attrs:{value:"Semana(s)"}})],1)],1)],1)],1),n("el-form-item",{attrs:{label:"Fecha:"}},[n("el-date-picker",{attrs:{type:"date",placeholder:"Selecciona una fecha"},model:{value:t.task.open_date,callback:function(e){t.$set(t.task,"open_date",e)},expression:"task.open_date"}})],1),n("el-button",{attrs:{type:"success",icon:"el-icon-check"},on:{click:t.send}},[t._v("Asignar")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);